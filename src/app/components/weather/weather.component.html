<div class="flex items-center justify-center p-4">
  <input
    [(ngModel)]="city"
    (keyup.enter)="getWeatherByCity()"
    type="text"
    placeholder="Enter city name"
    class="border rounded px-4 py-2 w-full max-w-md"
  />
  <button
    (click)="getWeatherByCity()"
    class="ml-2 bg-blue-500 text-white px-4 py-2 rounded"
  >
    Search
  </button>
</div>

<button
  (click)="getWeatherByLocation()"
  class="mt-2 bg-green-500 text-white px-4 py-2 rounded"
>
  Use My Location
</button>
<button
  (click)="toggleUnit()"
  class="ml-4 bg-gray-700 text-white px-3 py-1 rounded text-sm"
>
  Switch to {{ unit === "metric" ? "Â°F" : "Â°C" }}
</button>

<div *ngIf="weatherData" class="mt-6 text-center space-y-4">
  <h2 class="text-2xl font-bold">
    {{ weatherData.name }}, {{ weatherData.sys.country }}
  </h2>

  <div class="text-5xl font-semibold">
    {{ weatherData.main.temp }}{{ unitSymbol }}
  </div>

  <div class="flex justify-center items-center gap-2 text-lg">
    <img
      [src]="
        'https://openweathermap.org/img/wn/' +
        weatherData.weather[0].icon +
        '@2x.png'
      "
      alt="weather icon"
    />
    <span class="capitalize">{{ weatherData.weather[0].description }}</span>
  </div>

  <div class="flex justify-center gap-6 mt-2 text-sm text-gray-700">
    <div>ğŸ’§ Humidity: {{ weatherData.main.humidity }}%</div>
    <div>ğŸŒ¬ï¸ Wind: {{ weatherData.wind.speed }} m/s</div>
  </div>

  <div class="text-xs mt-2 text-gray-500">
    ğŸ“… {{ currentDate | date : "fullDate" }} â€“ ğŸ•’
    {{ currentDate | date : "shortTime" }}
  </div>
</div>

<div *ngIf="error" class="mt-4 text-red-600 font-medium text-center">
  âš ï¸ {{ error }}
</div>

<div *ngIf="loading" class="mt-6 flex justify-center">
  <div
    class="animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500"
  ></div>
</div>
